ALTER SESSION SET NLS_NUMERIC_CHARACTERS = ',.';
SET LINESIZE 200

SELECT TO_CHAR((A.DATA_SIZE + B.TEMP_SIZE + C.REDO_SIZE + D.CONTROLFILE_SIZE)/1024,'999G999G999D99') "TOTALSIZE_GB" 
FROM 
(SELECT SUM(BYTES)/1024/1024 DATA_SIZE FROM DBA_DATA_FILES) A,
(SELECT NVL(SUM(BYTES),0)/1024/1024 TEMP_SIZE FROM DBA_TEMP_FILES ) B,
(SELECT SUM(BYTES)/1024/1024 REDO_SIZE FROM SYS.V_$LOG ) C,
(SELECT SUM(BLOCK_SIZE*FILE_SIZE_BLKS)/1024/1024 CONTROLFILE_SIZE FROM V$CONTROLFILE) D;
